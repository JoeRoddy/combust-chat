{
  "installation": {
    "components/App.jsx": {
      "imports": ["import Chatboxes from \"./chat/Chatboxes\";"],
      "renderEnd": ["<Chatboxes />"]
    },
    "components/users/Profile.jsx": {
      "imports": ["import chatStore from \"../../stores/ChatStore\";"],
      "replace": {
        "pattern": "alert(\"combust install chat\");\n",
        "code": ["chatStore.openConversationWithUser(userId);"]
      }
    }
  },
  "rules": {
    "conversationsByUser": {
      "$uid": {
        ".write": "!data.exists()",
        ".read": true
      }
    },
    "conversations": {
      "$convoId": {
        ".read": "data.child('participants').child(auth.uid).exists()",
        ".write": "data.child('participants').child(auth.uid).exists()"
      }
    },
    "messages": {
      "$msgId": {
        ".write": "!data.exists()",
        ".read": true
      }
    }
  }
}
